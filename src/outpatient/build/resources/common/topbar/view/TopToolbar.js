/*519e48fa42a6d6c745b3961c89bd5d0c7059c32e*/var backButtonPageId=-1;Ext.define("Topbar.view.TopToolbar",{extend:"Ext.Toolbar",alias:"widget.topbar",id:"topbar",config:{docked:"top",width:"100%",scrollable:false,layout:{type:"hbox",align:"center",},items:[{xtype:"label",itemId:"JSSLabel",margin:5,listeners:[{fn:function(c,b){if(Ext.getCmp("mainView")==null){var e=localStorage.getItem("username");if(e==null){e="Guest"}var a=this.parent.add({xtype:"urlSettingsButton",margin:5,right:0,});if(d){d.hide()}}else{if(Ext.getCmp("mainView").getActiveItem()._activeItem===0){var a=this.parent.add({xtype:"urlSettingsButton",margin:5,right:0,});if(d){d.hide()}}else{var d=this.parent.add({xtype:"button",itemId:"LogoutButton",margin:5,right:0,ui:"action",text:"Logout",});if(a){a.hide()}}}},event:"painted",buffer:10}]},{xtype:"button",text:"Back",id:"topbarBackButton",hidden:true,handler:function(b,c,a){if(backButtonPageId>=0){Ext.getCmp("mainView").setActiveItem(backButtonPageId);backButtonPageId=-1;this.hide()}}}],listeners:[{fn:"onLogoutButtonTap",event:"tap",delegate:"#LogoutButton"}]},initialize:function(){this.add({xtype:"selectfield",id:"topbarSelectfield",centered:true,selected:true,value:" ",options:Util.getSelectModules(),listeners:{change:function(){console.log("inside change function");var a=window.location.href;if(a.indexOf("Dashboard")<0){if(Ext.getCmp("topbarSelectfield").getValue()=="login"){window.location="../"}else{var b=window.location.href;if(b.indexOf(Ext.getCmp("topbarSelectfield").getValue())<0){window.location="../"+Ext.getCmp("topbarSelectfield").getValue()}}}else{window.location=Ext.getCmp("topbarSelectfield").getValue()}if(Ext.getCmp("topbarSelectfield").getValue()=="patientfacing"){window.location="http://patient-facing.github.com"}}}})},onLogoutButtonTap:function(b,c,a){var d=b.LogoutButton;if(!d){d=b.LogoutButton=Ext.widget("logoutConfirmPanel")}d.showBy(b)},setBackButtonTargetPage:function(a){bb=Ext.getCmp("topbarBackButton");if(a<0){backButtonPageId=-1;bb.hide()}else{backButtonPageId=a;bb.show()}}});